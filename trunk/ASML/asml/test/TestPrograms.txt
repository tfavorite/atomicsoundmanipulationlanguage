@if tests

fun int main ()
  if(a)
    b=c;
  end if
end fun

#-------------

fun int main ()
  if(a)
    b=c;
  end
  else
    d=e;
  end if
end fun

#--------------

fun int main()
	if(a)
		if(b)
			c = d;
		end if
	end
	else if(e)
		f = g;
	end if end if
end fun

#---------------

fun int main()
	if(a)
		b = c;
	end if
	if (d)
		e = f;
	end if
end fun

#---------------

fun int main ()
  if(((a = b+c)/funcall(x+34/2) <= 5))
    b=c;
  end if
end fun



@bad ifs

fun int main()
	if(a == b)
        b = b + 1;
        end
    if else
        b = b - 1;
        end
end fun

#---------------

fun int main()
	if(int a = x)
		a = b;
	end if
end fun

#---------------

fun int main()
	if(a)
		a = b
	end if
end fun

#---------------

fun int main()
	if(a)
		a = b;
	if
end fun

#---------------

fun int main()
	if(a) a = b;
end fun


@fun tests

fun ampl main()
end fun

#---------------

fun float a()
end fun

fun int b()
end fun

#---------------

fun wave main (int a)
end fun

#---------------

fun wave main (int i, float f, ampl c)
end fun



@bad funs

//no type for the fun
fun main (int a)
end fun

#---------------

//bounding fun turns into a new function
fun wave main()
end fun next()end fun

#---------------

//two ends
fun main()
end end fun

#---------------

//no param type
fun main(a)
end fun

#---------------

//no param id
fun main(int)
end fun

#---------------

//no param comma
fun main(int i float f)
end fun

#---------------

//param comma missing
fun main(int i, float f ampl a)
end fun

#---------------

//nested fun declarations
fun main()
	fun next()
	end fun
end fun

#---------------

//statement outside of a block
if(a==1)
	a;
end if

fun main()
end fun

#---------------

//expression in argument field.
fun main(a = x + b)
end fun



@good whiles

fun wave main()
	while(a == b)
		a;
	end while
end fun

#---------------

fun wave main()
	while(a*b+c || (funcall(fc) <= b+34.8) + b)
		a;
	end while
end fun

#---------------

fun wave main()
	while(a == b)
		a;
	end while
	while(c == d)
		c;
	end while
end fun

#---------------

fun wave main()
	while(a==b)
		while(c == d)
			a + c;
		end while
	end while
end fun


#---------------
//don't know if this is good or bad, but here goes...
fun wave main()
	while(a=b)
		a = b;
	end while
end fun



@bad whiles

//missing semi
fun wave main()
	while(a==b)
		a
	end while
end fun

#---------------

//missing end
fun wave main()
	while(a==b)
		a;
	while(b==c)
		b;
	end while
end fun

#---------------

//missing while
fun wave main()
	while(a==b)
		a;
	end
end fun

#---------------

//non-expression
fun wave main()
	while(int a=b)
		a;
	end while
end fun

#---------------

//missing while
fun wave main()
	while(a==b)
		a;
	end 
	while(b==c)
		b;
	end while
end fun

#---------------

//statement in parens
fun wave main()
	while(if(a==b) a; end if)
		a;
	end while
	while(b==c)
		b;
	end while
end fun



@good fors

fun wave main()
	for(a; b; c)
		a;
	end for
end fun

#---------------

fun wave main()
	for(a*b+c || (funcall(fc) <= b+34.8) + b; ((a = b+c)/funcall(x+34/2)<=5); c)
		a;
	end for
end fun

#---------------

fun wave main()
	for(a; b; c)
		a;
	end for
	for(e; f; g)
		c;
	end for
end fun

#---------------

fun wave main()
	for(a; b; c)
		for(d; e; f)
			a + c;
		end for
	end for
end fun



@bad fors

//missing semi
fun wave main()
	for(a; b; c)
		a
	end for
end fun

#---------------

//missing end
fun wave main()
	for(a; b; c)
		a;
	for(d; e; f)
		b;
	end for
end fun

#---------------

//missing for
fun wave main()
	for(a; b; )
		a;
	end
end fun

#---------------

//non-expression 1
fun wave main()
	for(int a=b; c; d)
		a;
	end while
end fun

#---------------

//non-expression 2
fun wave main()
	for(b; int a=c; d)
		a;
	end while
end fun

#---------------

//missing semis
fun wave main()
	for(b c d)
		a;
	end while
end fun

#---------------

//not enough exprs
fun wave main()
	for(b; c;)
		a;
	end while
end fun

#---------------

//missing for
fun wave main()
	for(a; b; c)
		a;
	end 
	for(b; c; d)
		b;
	end for
end fun

#---------------

//statement in parens
fun wave main()
	for(if(a==b) a; end if)
		a;
	end 
	for(a; b; c)
		b;
	end while
end fun

#----------------

// no expressions, but semis
fun wave main()
	for(;;)
		a;
	end for
end fun



@good returns

fun wave a()
 wave b;
 
 return b;
end fun

#--------------

fun int b()
 int a;
 int c;
 return a && b;
end fun

#--------------

fun wave main()
	return funcall(input);
end fun

#--------------

fun int c()
	return (a-b)*d/(c+e);
end fun



@bad returns

// returning a declaration
fun int a()
	return int a = 5;
end fun

#---------------

// returning outside of a function
return var;

fun int main()
 /* stuff */
end fun

#----------------

// returning expression list
fun int a()
	return a,b;
end fun



@good exprs

//assign
fun wave main()
	a = b;
	int a = b;
	a = b = c = d;
	1 = 2 = 3 = 4;
	1 = b = 3 = d;
end fun

#----------------

//logicals
fun wave main()
	a || b;
	a && b;
	a || b && c;
	a && b || c;
	1 || 2 && 3;
	1 && 2 || 3;
	a || 2 && c;
	a && 2 || c;
end fun

#----------------

//relational
fun wave main()
	a < b;
	a > b;
	a <= b;
	a >= b;
	a == b;
	a != b;
	a < b > c <= d >= e == f != g;
	1 < 2 > 3 <= 4 >= 5 == 6 != 7;
	a < 2 > c <= 4 >= e == 6 != g;
end fun

#----------------

//add/sub
fun wave main()
	a + b;
	a - b;
	a + b - c;
	1 + 2 - 3;
	a + 2 - 3;
end fun

#----------------

//mult/div/mod
fun wave main()
	a * b;
	a / b;
	a % b;
	a * b / c % d;
	1 * 2 / 3 % 4;
	a * 2 / 3 % d;
end fun

#----------------

//unaries
fun wave main()
	!a == b;
	a == !b;
	a == -1ms;
	-2 == b;
	a == -2 + !c;
	!a || -2.654968451 - -3;
	
	amplof a == 2.6a;
	2Hz == amplof b;
	!a || -2 - -3 > amplof b;
end fun

#----------------

//at expression
fun wave main()
	a at b;
	a at 1;
	a at b to c;
	a at 1 to c;
	a at (b at c to d);
end fun

#----------------

//fun call
fun wave main()
	a();
	a(b, c);
	a = b(c, d);
	a = b(c+1, -2+!b);
	a() = b(c+1, -2+!b);
end fun

#----------------

//literals
fun wave main()
	1;
	a;
	"happy happy joy joy";
end fun

#----------------

//mixed
fun wave main()
	a = (b || c == d) + e * -f + !g(h at 9 to 10);
	h at (i at 9 to 10 * !g(-f) * e + (b && c > d)) = a;
end fun



@bad exprs

//bad fun calls: decl argument
fun wave main()
	a(int x);
end fun

#----------------

//bad fun calls: stmt argument
fun wave main()
	a(if(x) a = 1; end if);
end fun

#----------------

//bad fun calls: missing separator
fun wave main()
	a(x y-b);
end fun



@good prints

fun wave main()
	print "happy";
end fun

#----------------

fun wave main()
	print "happy" + a;
end fun

#----------------

fun wave main()
	print a = (b || c == d) + e * -f + !g(h at 9 to 10);
end fun



@bad prints

//no semi
fun wave main()
	print "happy"
end fun

#----------------

//print a statement
fun wave main()
	print int i = 1;
end fun

#----------------

//out of a function
print wooo;
fun wave main()
	
end fun

#----------------

//two expressions
fun wave main()
	print wooo hoo;	
end fun



@good includes

include "howzit goin??";
fun wave main ()
end fun

#-----------------

include "howzit goin??";
include "whoa two includes";
fun wave main ()
end fun



@bad includes

//missing semi
include "howzit goin??"
fun wave main ()
end fun

#-----------------

//no string
include ;

fun wave main ()
end fun

#-----------------

//non string
include howzit;

fun wave main ()
end fun

#-----------------

//include after a function declaration
include "howzit goin??";
fun wave main ()
end fun

include "whoa two includes";